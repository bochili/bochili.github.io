<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author"><title> · 辣白菜的部落格</title><meta name="description" content="根据 B 站课程 https://www.bilibili.com/video/BV1kP41177wp?p=3&amp;vd_source&amp;#x3D;d641d28ede31df5df58d5052977dce66 总结的笔记。

ES Module特性在 HTML 中，给 script  标签设置 ty"><meta name="keywords" content=""><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/11.9.0/styles/github.min.css"><script src="//cdn.bootcss.com/highlight.js/11.9.0/highlight.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>hljs.highlightAll();</script><script>MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});
MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});</script><link rel="stylesheet" href="/css/style.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 6.3.0"></head><body><div class="container" id="stage"><div class="row"><div class="col-sm-3 col-xs-12 side-container invisible" id="side-bar"><div class="vertical-text site-title"><img class="side-avatar" src="https://i.miji.bid/2024/02/09/6db6eb9d4d727027cafbfb2fb9dc1132.jpeg"><h3 class="site-title-small" tabindex="-1"><a class="a-title" href="/">生命是一张悬而未决的网</a></h3><h1 class="site-title-large" tabindex="-1"><a class="a-title" href="/">Lee</a></h1><!--h6(onclick="triggerSiteNav()") Trigger--></div><br class="visible-lg visible-md visible-sm"><div class="site-title-links" id="site-nav"><ul><li><a href="/">主页</a></li><li><a href="/archives">归档</a></li><li><a href="/categories">分类</a></li><li><a href="/tags">标签</a></li><li class="soc"><a href="https://github.com/bochili" target="_blank" rel="noopener noreferrer" aria-label="Github"><i class="fa fa-github">&nbsp;</i></a><a href="https://twitter.com/longtengyun" target="_blank" rel="noopener noreferrer" aria-label="Twitter"><i class="fa fa-twitter">&nbsp;</i></a></li></ul><div class="visible-lg visible-md visible-sm site-nav-footer"><br class="site-nav-footer-br"><footer><p><span id="busuanzi_container_site_uv"> 站点访客数&nbsp;<span id="busuanzi_value_site_uv"> </span>&nbsp;人</span></p><p><span id="busuanzi_container_site_pv"> 站点浏览量&nbsp;<span id="busuanzi_value_site_pv"> </span>&nbsp;次</span></p><p><span id="busuanzi_container_page_pv"> 本页浏览量&nbsp;<span id="busuanzi_value_page_pv"> </span>&nbsp;次</span></p><p>&copy;&nbsp;2024&nbsp;<a target="_blank" href="https://blog.bochi.ink" rel="noopener noreferrer">辣辣辣白菜</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div><div class="col-sm-9 col-xs-12 main-container invisible" id="main-container"><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post-container"><p class="post-title"><a></a></p><p class="post-meta"><span class="date meta-item">发布于&nbsp;2023-04-18</span></p><p class="post-abstract"><blockquote>
<p> 根据 B 站课程 <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1kP41177wp?p=3&vd_source=d641d28ede31df5df58d5052977dce66">https://www.bilibili.com/video/BV1kP41177wp?p=3&vd_source&#x3D;d641d28ede31df5df58d5052977dce66</a> 总结的笔记。</p>
</blockquote>
<h1 id="ES-Module"><a href="#ES-Module" class="headerlink" title="ES Module"></a>ES Module</h1><h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><p>在 HTML 中，给 <code>script</code>  标签设置 <code>type=&quot;module&quot;</code> 的属性，就可以以 ES Module 规范执行其中的 JS 代码：</p>
<pre><code class="html">&lt;script type=&quot;module&quot;&gt;
    console.log(&quot;Hello&quot;)    // 浏览器正常输出 Hello。
&lt;/script&gt;
</code></pre>
<h3 id="特性-1：自动使用严格模式"><a href="#特性-1：自动使用严格模式" class="headerlink" title="特性 1：自动使用严格模式"></a>特性 1：自动使用严格模式</h3><p>在模块中，将忽略 <code>use strict</code> 的声明，自动采用严格模式。</p>
<p>在严格模式中，不能在全局范围使用 <code>this</code> 。在非严格模式下，全局范围中使用 <code>this</code> ，得到的是 <code>window</code> 对象</p>
<h3 id="特性-2：每个-ES-Module-都运行在独立的私有作用域中"><a href="#特性-2：每个-ES-Module-都运行在独立的私有作用域中" class="headerlink" title="特性 2：每个 ES Module 都运行在独立的私有作用域中"></a>特性 2：每个 ES Module 都运行在独立的私有作用域中</h3><p>如下代码，在第二个 Module 中无法获取到变量 <code>foo</code> 的值：</p>
<pre><code class="html">&lt;script type=&quot;module&quot;&gt;
    var foo = 100
    console.log(foo)    // 100
&lt;/script&gt;
&lt;script type=&quot;module&quot;&gt;
    console.log(foo)    // undefined
&lt;/script&gt;
</code></pre>
<h3 id="特性-3：ES-Module-作为外部-JS-模块引入时，以-CORS-模式请求"><a href="#特性-3：ES-Module-作为外部-JS-模块引入时，以-CORS-模式请求" class="headerlink" title="特性 3：ES Module 作为外部 JS 模块引入时，以 CORS 模式请求"></a>特性 3：ES Module 作为外部 JS 模块引入时，以 CORS 模式请求</h3><p>如下代码，在引入外部文件作为 ES Module 时，目标服务器必须支持 CORS 请求头，否则会被本地浏览器拦截，并报跨域错误。</p>
<pre><code class="html">&lt;script type=&quot;module&quot; src=&quot;https://xxxxxx/xxx.js&quot;&gt;&lt;/script&gt;
</code></pre>
<h3 id="特性-4：ES-Module-在页面中会延迟执行（defer）"><a href="#特性-4：ES-Module-在页面中会延迟执行（defer）" class="headerlink" title="特性 4：ES Module 在页面中会延迟执行（defer）"></a>特性 4：ES Module 在页面中会延迟执行（defer）</h3><p>该特性效果等同于普通 <code>script</code> 标签上的 <code>defer</code> 属性，脚本的执行不会阻塞页面的加载。脚本要等到 DOM 解析完毕，也就是网页渲染完成再去执行。</p>
<h2 id="导入与导出"><a href="#导入与导出" class="headerlink" title="导入与导出"></a>导入与导出</h2><pre><code class="javascript">// Module.js
export var name = &quot;Hello&quot;

// App.js
import &#123; name &#125; from &quot;Module&quot;
console.log(name)  // Hello
</code></pre>
<h3 id="修饰成员导出"><a href="#修饰成员导出" class="headerlink" title="修饰成员导出"></a>修饰成员导出</h3><p>在被导入的模块中，对需要导出的成员前添加 <code>export</code> 修饰符，即可完成导出：</p>
<pre><code class="javascript">export var name = &quot;Hello&quot;
export function hello()&#123;
    console.log(&quot;hello&quot;)
&#125;
export class Person&#123;&#125;
</code></pre>
<h3 id="统一导出"><a href="#统一导出" class="headerlink" title="统一导出"></a>统一导出</h3><p>先按普通方式创建好成员对象，然后使用 <code>export &#123; ... &#125;</code> 对成员进行统一导出：</p>
<pre><code class="javascript">var name = &quot;Hello&quot;
function hello()&#123;
    console.log(&quot;hello&quot;)
&#125;
class Person&#123;&#125;
export &#123; name, hello, Person &#125;
</code></pre>
<h3 id="导出成员重命名"><a href="#导出成员重命名" class="headerlink" title="导出成员重命名"></a>导出成员重命名</h3><p>在 <code>export</code> 时，可以使用 <code>as</code> 对需要导出的成员对象进行重命名：</p>
<pre><code class="javascript">// Module.js
var name = &quot;Hello&quot;
export &#123;
    name as fooName
&#125;

// App.js
import &#123; fooName &#125; from &quot;./Module.js&quot;   // 此时再导入对象就需要使用重命名后的名字了
</code></pre>
<h3 id="模块的默认导出"><a href="#模块的默认导出" class="headerlink" title="模块的默认导出"></a>模块的默认导出</h3><p>以下二者效果是相同的，都属于将成员作为模块的默认导出使用：</p>
<pre><code class="javascript">// Module.js
var name = &quot;Foo&quot;
export &#123;
    name as default
&#125;

// App.js
import Module from &quot;./Module.js&quot;;
console.log(Module);   // Foo
</code></pre>
<pre><code class="javascript">// Module.js
var name = &quot;Foo&quot;
export default name

// App.js
import Module from &quot;./Module.js&quot;;
console.log(Module);   // Foo
</code></pre>
</p></div></div></div></div><div class="visible-xs site-bottom-footer"><footer><p><span id="busuanzi_container_site_uv"> 站点访客数&nbsp;<span id="busuanzi_value_site_uv"> </span>&nbsp;人</span></p><p><span id="busuanzi_container_site_pv"> 站点浏览量&nbsp;<span id="busuanzi_value_site_pv"> </span>&nbsp;次</span></p><p><span id="busuanzi_container_page_pv"> 本页浏览量&nbsp;<span id="busuanzi_value_page_pv"> </span>&nbsp;次</span></p><p>&copy;&nbsp;2024&nbsp;<a target="_blank" href="https://blog.bochi.ink" rel="noopener noreferrer">辣辣辣白菜</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div></div><script src="/js/jquery-3.1.0.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/google-analytics.js"></script><script src="/js/typography.js"></script></body></html>